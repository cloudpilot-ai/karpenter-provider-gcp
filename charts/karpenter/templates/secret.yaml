apiVersion: v1
kind: Secret
metadata:
  name: {{ include "karpenter.fullname" . }}-gcp-credentials
type: Opaque
stringData:
  key.json: |
    {
      "type": "service_account",
      "project_id": "{{ .Values.gcpcloud.project_id }}",
      "private_key_id": "{{ .Values.gcpcloud.private_key_id }}",
      "private_key": "{{ .Values.gcpcloud.private_key }}",
      "client_email": "{{ .Values.gcpcloud.client_email }}",
      "client_id": "{{ .Values.gcpcloud.client_id }}",
      "auth_uri": "https://accounts.google.com/o/oauth2/auth",
      "token_uri": "https://oauth2.googleapis.com/token",
      "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
      "client_x509_cert_url": "{{ .Values.gcpcloud.client_x509_cert_url }}",
      "universe_domain": "googleapis.com"
    }
